<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
      <section class="section-article">
        <article class="section-member-main">
          <div class="section-article-title">
            <h2>登入</h2>
          </div>
          <!-- <form action="./daily.html" method="post"></form> -->
          <form action="./daily.html" method="post">
            <div
              class="member-item mb-3 d-flex justify-content-between align-items-center"
            >
              <label for="memberEmail" class="form-label" >信箱</label>
              <input
                type="email"
                class="form-control"
                id="memberEmail"
                placeholder="輸入您的電子信箱"
                value="pikachu@mail.com"
              />
            </div>
            <div
              class="member-item mb-3 d-flex justify-content-between align-items-center"
            >
              <label for="memberPassword" class="form-label">密碼</label>
              <input
                type="password"
                class="form-control"
                id="memberPassword"
                placeholder="請輸入您的密碼至少6個字"
                 value="wda@123"
              />
            </div>
            <div
              class="settion-kidid-data-control d-flex align-items-center justify-content-center flex-column mt-5"
            >
              <a
                class="forget-passW d-block text-decoration-none text-center mt-3 mb-5"
                href="#"
                >忘記密碼</a
              >
              <button
                type="submit"
                class="kidid-control-btn login-btn-style mb-4"
              >
                <p>登入</p>
              </button>
              <!-- <button
                type="submit"
                class="kidid-control-btn login-btn-style bg-y"
              >
                <p>Google登入</p>
              </button> -->
            </div>
          </form>
        </article>
      </section>
</body>
    <!-- Js套件 -->
    <!-- jquery -->
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <!-- owlJS -->
    <script src="node_modules/owl.carousel/dist/owl.carousel.min.js"></script>
    <!-- bs -->
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!-- axios -->
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>    
    <!-- JS套件 -->
    <script src="js/json-sever/utils.js"></script>
    <script src="js/json-sever/apiGET.js"></script>
    <script src="js/json-sever/apiPOST.js"></script>
    <script src="js/json-sever/apiPATCH.js"></script>
    <!-- 頁面JS -->
    <!-- menu/JS -->
      <script>
        // checkLogin();
        // function checkLogin(){
          
        //   // 獲取網址中的 search 部分，例如 "?record_date=2023-11-09"
        //   var queryString = window.location.search;

        //   // 使用 URLSearchParams 解析 search 部分
        //   var urlParams = new URLSearchParams(queryString);

        //   // 獲取 record_date 參數的值
        //   var whereTo = urlParams.get('whereTo');
        //   console.log();
        //   if(whereTo != ""){
        //     if(token == ""){
        //       switch (whereTo) {
        //         case "member":
        //           window.location.href = "./member.html";
        //           break;
        //         case "childlist":
        //           window.location.href = "./childlist.html";
        //           break;
        //         case "data-analysis":
        //           window.location.href = "./data-analysis.html";
        //           break;
              
        //         default:
        //           break;
        //       }
        //     }
        //   }

        // }
        // login();
        function handleFormData(data) {
          // 在這裡處理你的數據
          let loginInfo = {
              email: data.memberEmail,
              password: data.memberPassword,
            }
          console.log(loginInfo);
          login(data.memberEmail,data.memberPassword);
          let loginSeconds = url == "http://localhost:3000"?500:5000;
          setTimeout(()=>{
            console.log(_response);
            if(_response.status.toString().startsWith('2')){
              alert('登入成功，跳轉到每日紀錄(待改)');
              setTimeout(() => {
                // console.log(`${data.memberEmail},${data.memberPassword}`);
                // login(data.memberEmail,data.memberPassword);
                let whereTo = localStorage.getItem('whereTo');
                localStorage.removeItem('whereTo');
                window.location.href = whereTo|| "./";
              }, 500);
            }else{
              alert(`${_response.data || _response.message}`);
            }
          },loginSeconds);
        }
      </script>
    <!-- 頁面JS -->
</html>